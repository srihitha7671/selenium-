package pac1;

import org.openqa.selenium.By;
import org.openqa.selenium.WebDriver;
import org.openqa.selenium.WebElement;
import org.openqa.selenium.chrome.ChromeDriver;
import io.github.bonigarcia.wdm.WebDriverManager;

public class TC001 {

    public static void main(String[] args) {
        // Step 1: Setup WebDriver and launch the browser
        WebDriverManager.chromedriver().setup();
        WebDriver driver = new ChromeDriver();

        // Step 2: Navigate to the URL
        driver.get("https://tutorialsninja.com/demo/index.php?");
        System.out.println("The title is: " + driver.getTitle());

        // Step 3: Click on 'My Account' dropdown
        driver.findElement(By.linkText("My Account")).click();

        // Step 4: Select 'Register' from dropdown
        driver.findElement(By.linkText("Register")).click();
        System.out.println("The title is: " + driver.getTitle());

        // Step 5: Verify the heading 'Register Account'
        WebElement heading = driver.findElement(By.xpath("//h1[contains(text(),'Register Account')]"));
        System.out.println("Heading is displayed: " + heading.isDisplayed());

        // Step 6: Click on 'Continue' button at the bottom of the page
        WebElement continueButton = driver.findElement(By.xpath("//*[@id='content']/form/div/div/input[2]"));
        continueButton.click();

        // Step 7: Verify warning message 'Warning: You must agree to the Privacy Policy!'
        WebElement warningMessage = driver.findElement(By.xpath("//div[contains(@class, 'alert alert-danger')]"));
        System.out.println("Warning message: " + warningMessage.getText());

        // Part 2: Personal Details Form

        // Step 1: Enter data in 'First Name' text box
        WebElement firstNameField = driver.findElement(By.xpath("//*[@id='input-firstname']"));
        firstNameField.sendKeys("ABCDEFGHIJKLMNOPQRSTUVWXYZ1234567");  // 33 characters

        // Step 2: Click on 'Continue' button after entering First Name
        WebElement continueButton2 = driver.findElement(By.xpath("//*[@id='input-lastname']"));
        continueButton2.click();

        // Step 3: Display the error message for First Name
        WebElement errorMessageFirstName = driver.findElement(By.xpath("//*[@id='account']/div[2]/div/div"));
        System.out.println(errorMessageFirstName.getText());

        // Step 4: Enter data in 'Last Name' text box
        WebElement lastNameField = driver.findElement(By.xpath("//*[@id='input-lastname']"));
        lastNameField.sendKeys("QWERTYUIOPLKJHGFDSAZXCVBNM7654321");

        // Step 5: Click on 'Continue' button after entering Last Name
        continueButton2.click();

        // Step 6: Display the error message for Last Name
        WebElement errorMessageLastName = driver.findElement(By.xpath("//*[@id='account']/div[3]/div/div"));
        System.out.println(errorMessageLastName.getText());

        // Step 7: Enter valid 'E-mail'
        WebElement emailField = driver.findElement(By.xpath("//*[@id='input-email']"));
        emailField.sendKeys("test@example.com");

        // Step 8: Enter 'Telephone' which must be between 3 and 32 characters
        WebElement telephoneField = driver.findElement(By.xpath("//*[@id='input-telephone']"));
        telephoneField.sendKeys("1234567890");
        continueButton2.click();

        driver.quit();
    }
}