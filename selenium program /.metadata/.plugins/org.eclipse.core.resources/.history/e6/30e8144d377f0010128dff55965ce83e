package pac1;

import org.openqa.selenium.By;
import org.openqa.selenium.WebDriver;
import org.openqa.selenium.WebElement;
import org.openqa.selenium.chrome.ChromeDriver;
import io.github.bonigarcia.wdm.WebDriverManager;

public class LAB_5_Part_5 {

    public static void main(String[] args) {
        System.out.println("Test Start...");

        // Setup Chrome
        WebDriverManager.chromedriver().setup();
        WebDriver driver = new ChromeDriver();

        try {
            // Step 1: Launch URL & Login first (assuming account is created already)
            driver.get("https://tutorialsninja.com/demo/index.php?");
            driver.manage().window().maximize();

            driver.findElement(By.xpath("//span[text()='My Account']")).click();
            driver.findElement(By.linkText("Login")).click();

            // Enter email & password for login
            driver.findElement(By.id("input-email")).sendKeys("your_registered_email@mail.com");
            driver.findElement(By.id("input-password")).sendKeys("Test@123");
            driver.findElement(By.xpath("//input[@value='Login']")).click();

            // Step 2: Navigate to My Account → Logout
            driver.findElement(By.xpath("//span[text()='My Account']")).click();
            driver.findElement(By.linkText("Logout")).click();

            // Step 3: Verify Logout Success
            WebElement logoutHeading = driver.findElement(By.xpath("//div[@id='content']/h1"));
            String logoutText = logoutHeading.getText();
            if (logoutText.equals("Account Logout")) {
                System.out.println("✅ Successfully logged out!");
            } else {
                System.out.println("❌ Logout Failed! Found: " + logoutText);
            }

            // Step 4: Click Continue (goes back to homepage)
            driver.findElement(By.linkText("Continue")).click();
            System.out.println("✅ Redirected to Home Page.");

        } catch (Exception e) {
            e.printStackTrace();
        } finally {
            // Close browser
            driver.quit();
            System.out.println("Test Completed!");
        }
    }
}

