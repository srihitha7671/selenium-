package pac1;

import org.openqa.selenium.By;
import org.openqa.selenium.WebDriver;
import org.openqa.selenium.WebElement;
import org.openqa.selenium.chrome.ChromeDriver;

public class LAB_6 {
    public static void main(String[] args) throws InterruptedException {
        // Launch Chrome
        WebDriver driver = new ChromeDriver();
        driver.manage().window().maximize();

        // Step 1: Open the website
        driver.get("https://tutorialsninja.com/demo/");

        // Step 2: Click on My Account → Login
        driver.findElement(By.xpath("//span[text()='My Account']")).click();
        driver.findElement(By.linkText("Login")).click();

        // Step 3: Enter credentials
        driver.findElement(By.id("input-email")).sendKeys("srihitha@test.com");
        driver.findElement(By.id("input-password")).sendKeys("12345");
        driver.findElement(By.xpath("//input[@value='Login']")).click();
        System.out.println("Login successful with: srihitha@test.com");

        // Step 4: Navigate to Monitors category
        driver.findElement(By.linkText("Components")).click();
        driver.findElement(By.linkText("Monitors (2)")).click();

        // Step 5: Add Samsung SyncMaster 941BW to cart
        WebElement samsungAddToCart = driver.findElement(
            By.xpath("//a[text()='Samsung SyncMaster 941BW']/ancestor::div[@class='product-thumb']//button[@onclick]")
        );
        samsungAddToCart.click();
        System.out.println("Samsung SyncMaster 941BW added to cart");

        // Step 6: Add Apple Cinema 30" to cart
        WebElement appleAddToCart = driver.findElement(
            By.xpath("//a[text()='Apple Cinema 30\"']/ancestor::div[@class='product-thumb']//button[@onclick]")
        );
        appleAddToCart.click();
        System.out.println("Apple Cinema 30\" added to cart");

        // Step 7: Go to Shopping Cart
        driver.findElement(By.linkText("Shopping Cart")).click();

        // Step 8: Verify both items are in the cart
        String pageSource = driver.getPageSource();
        if (pageSource.contains("Samsung SyncMaster 941BW") && pageSource.contains("Apple Cinema 30\"")) {
            System.out.println("Both products are successfully in the shopping cart ✅");
        } else {
            System.out.println("❌ Products are missing in the cart!");
        }

        // Step 9: Close browser
        Thread.sleep(3000);
        driver.quit();
    }
}
