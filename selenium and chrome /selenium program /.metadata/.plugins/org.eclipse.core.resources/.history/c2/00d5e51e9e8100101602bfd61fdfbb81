package pac1;

import org.openqa.selenium.By;
import org.openqa.selenium.WebDriver;
import org.openqa.selenium.WebElement;
import org.openqa.selenium.chrome.ChromeDriver;
import org.openqa.selenium.support.ui.Select;

public class LAB_6 {
    public static void main(String[] args) throws InterruptedException {

        // Set up ChromeDriver
        WebDriver driver = new ChromeDriver();
        driver.manage().window().maximize();

        // 1. Login with credentials created in Lab 1
        driver.get("https://tutorialsninja.com/demo/index.php?route=account/login");
        driver.findElement(By.id("input-email")).sendKeys("srihitha@test.com");
        driver.findElement(By.id("input-password")).sendKeys("Srihitha@123");
        driver.findElement(By.cssSelector("input[value='Login']")).click();
        System.out.println("Login successful with: srihitha@test.com");

        // 2. Go to 'Components' â†’ 3. Select 'Monitors'
        WebElement components = driver.findElement(By.linkText("Components"));
        components.click();
        driver.findElement(By.linkText("Monitors (2)")).click();

        // 4. Select 25 from 'Show' dropdown
        WebElement showDropdown = driver.findElement(By.id("input-limit"));
        Select select = new Select(showDropdown);
        select.selectByVisibleText("25");

        // 5. Click on 'Add to cart' for Samsung SyncMaster 941BW
        driver.findElement(By.xpath("//a[text()='Samsung SyncMaster 941BW']/../..//button[@data-original-title='Add to Cart']")).click();
        Thread.sleep(2000);

        // 6. Click on 'Specification' tab of Samsung SyncMaster 941BW
        driver.findElement(By.linkText("Samsung SyncMaster 941BW")).click();
        driver.findElement(By.xpath("//a[text()='Specification']")).click();
        System.out.println("Specification tab opened successfully");

        // 7. Verify details present on the page
        if (driver.getPageSource().contains("Processor")) {
            System.out.println("Specification details are present.");
        }

        // 8. Click on 'Add to Wish list' button
        driver.findElement(By.xpath("//button[@data-original-title='Add to Wish List']")).click();

        // 9. Verify success message
        if (driver.getPageSource().contains("Success: You have added Samsung SyncMaster 941BW to your wish list!")) {
            System.out.println("Wishlist success message verified.");
        }

        // 10. Enter 'Mobile' in 'Search' text box
        driver.findElement(By.name("search")).sendKeys("Mobile");

        // 11. Click on 'Search' button
        driver.findElement(By.cssSelector("button.btn.btn-default.btn-lg")).click();

        // 12. Click 'Search in product descriptions' check box
        driver.findElement(By.id("description")).click();
        driver.findElement(By.id("button-search")).click();

        // 13. Click on link 'HTC Touch HD'
        driver.findElement(By.linkText("HTC Touch HD")).click();

        // 14. Clear '1' from 'Qty' and enter '3'
        WebElement qty = driver.findElement(By.id("input-quantity"));
        qty.clear();
        qty.sendKeys("3");

        // 15. Click on 'Add to Cart' button
        driver.findElement(By.id("button-cart")).click();

        // 16. Verify success message
        if (driver.getPageSource().contains("Success: You have added HTC Touch HD to your shopping cart!")) {
            System.out.println("Cart success message verified.");
        }

        // 17. Click on 'View cart' button
        driver.findElement(By.xpath("//span[text()='Shopping Cart']")).click();

        // 18. Verify Mobile name added to the cart
        if (driver.getPageSource().contains("HTC Touch HD")) {
            System.out.println("HTC Touch HD is present in the cart.");
        }

        // 19. Click on 'Checkout' button
        driver.findElement(By.linkText("Checkout")).click();
        Thread.sleep(2000);

        // 20. Click on 'My Account' dropdown
        driver.findElement(By.xpath("//span[text()='My Account']")).click();

        // 21. Select 'Logout' from dropdown
        driver.findElement(By.linkText("Logout")).click();

        // 22. Verify 'Account Logo'
        if (driver.findElement(By.cssSelector("#logo")).isDisplayed()) {
            System.out.println("Logout successful. Account logo is visible.");
        }

        driver.quit();
    }
}
